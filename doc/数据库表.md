# 数据库表

[TOC]

## 用户信息表

用于记录新用户注册时的相关信息

| 字段    | 含义                                       |
| ------- | ------------------------------------------ |
| 用户 ID | 主键，唯一地标识一位用户，由系统自动生成   |
| 手机号  | 用户通过手机号进行注册，登录               |
| 昵称    | 注册时可选，后期可修改，不填则系统自动生成 |
| 密码    |                                            |

 ## 实名认证表

实名认证后的用户才能进行购买操作，一个用户可以认证多个身份以此帮其他人买票。

| 字段     | 含义                                 |
| -------- | ------------------------------------ |
| 真实 ID  | 主键                                 |
| 用户 ID  | 作为外键指向`用户信息表`中的`用户ID` |
| 真实姓名 |                                      |
| 证件类型 | 身份证，将来扩展其他证件             |
| 证件号   | 身份证号                             |

## 演出表

包含演唱会的基本信息

| 字段                         | 含义                                             |
| ---------------------------- | ------------------------------------------------ |
| 演出 ID                      | 主键，定位一场演出                               |
| 标题                         | 如：202020 当我们谈论爱情 - 梁静茹世界巡回演唱会 |
| 演出介绍                     |                                                  |
| 是否下架                     |                                                  |
| 演出时长                     |                                                  |
| 入场时间                     |                                                  |
| 最低演出曲目                 |                                                  |
| 主要演员                     |                                                  |
| 最低演出时长                 |                                                  |
| 禁止携带物品                 |                                                  |
| 寄存说明                     |                                                  |
| 初始开售时全场可售门票总张数 |                                                  |

## 演出 —— 场次表

| 字段        | 含义                             |
| ----------- | -------------------------------- |
| 演出场次 ID | 主键，确定某一演唱会的某一场次   |
| 演出 ID     | 作为外键指向`演出表`中的`演出ID` |
| 城市 ID     | 作为外键指向`市表`中的`城市ID`   |
| 具体位置    |                                  |
| 开始时间    | 如：2020-02-21 周五 19:30        |

## 场次 —— 票档表

同一场次有不同的票档，不同票档价格不同

| 字段        | 含义                                          |
| ----------- | --------------------------------------------- |
| 场次票档 ID | 主键，确定某一场次的某一票档                  |
| 演出场次 ID | 作为外键指向`演出 —— 场次表`中的`演出场次 ID` |
| 票档名称    | 例如：五层看台，二层看台，内场等              |
| 价格        |                                               |

## 票档 —— 座位表

同一票档有多个座位，每个座位有独一无二的座位号

| 字段        | 含义                                                         |
| ----------- | ------------------------------------------------------------ |
| 票档座位 ID | 主键，确定某一票档的一个座位                                 |
| 场次票档 ID | 作为外键指向`场次 —— 票档表`中的`场次票档ID`                 |
| 座位 ID     |                                                              |
| 座位描述    | `标题` + `城市名` + `场次开始时间` + `票档` + `价格` + `座位ID` 如：<br />202020 当我们谈论爱情 - 梁静茹世界巡回演唱会 上海站 2020-02-21 周五 19:30 五层看台 32号座<br />此字段在添加演唱会信息时自动生成 |

## 订单表

包含一张订单的信息

| 字段         | 含义                                           |
| ------------ | ---------------------------------------------- |
| 订单 ID      | 主键，唯一确定一个订单，系统自动生成           |
| 用户 ID      | 作为外键指向`用户信息表`中的`用户ID`           |
| 真实 ID      | 作为外键指向`实名认证表`中的`真实ID`           |
| 创建时间     |                                                |
| 订单状态ID   | 作为外键指向`订单状态表`中的`订单状态ID`       |
| 收件人姓名   |                                                |
| 收件人手机号 |                                                |
| 收货地址     | 作为外键指向`街道表`中的`街道ID`               |
| 详细地址     | 字符串                                         |
| 票档座位 ID  | 作为外键指向`票档 —— 座位表`中的`场票档座位ID` |

## 订单状态表

方便扩展与修改

| 字段        | 含义 |
| ----------- | ---- |
| 订单状态 ID |      |
| 状态描述    |      |
